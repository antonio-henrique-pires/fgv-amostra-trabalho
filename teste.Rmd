---
title:  | 
        | Do 'texto como texto' ao 'texto como dado': 
        | o potencial das pesquisas em Relações Internacionais
        
author: 
  - Davi Moreira[^auth01]
  - Antonio Pires[^auth02]
  - Marcelo de Almeida Medeiros[^auth03]
date: "Primeira versão 2020-08-27. Atualização: `r format(Sys.time(), '%Y-%m-%d')`"
thanks: "Agradecemos ao Prof. Dr. [Danilo Freire](http://danilofreire.github.io) por disponibilizar template que permitiu o desenvolvimento desse artigo em `Rmarkdown`. O template pode ser encontrado em: https://github.com/danilofreire/rmarkdown-templates."
abstract: "O objetivo desse artigo é apresentar o potencial da análise do 'texto como dado' nas pesquisas em Relações Internacionais. Para tanto, apresentamos o estado atual do campo, as diferentes metodologias disponíveis, destacamos pesquisas nacionais e internacionais da área que já fizeram uso dessa abordagem e, por fim, um caso prático integralmente replicável na liguagem `R` para fins pedagógicos. No caso prático, respondemos à seguinte pergunta: Diante do conflito Israel e Palestina, como representantes de Brasil, Estados Unidos, Israel e Palestina emocionalmente se expressaram em discursos proferidos nos encontros do Conselho de Segurança das Nações Unidas (CSNU)? Assim, aplicamos a análise de sentimentos aos 77.857 discursos proferidos no CSNU de 1995 a 2019. Em conclusão, demonstramos o potencial da abordagem do 'texto como dado' para realizar análises sistemáticas de grandes acervos documentais e sua complementariedade a estudos qualitativos que tratam o 'texto como texto'."
abstractspacing: double
keywords: texto como dado; texto como texto; relações internacionais; conselho de segurança; ONU; análise de sentimentos;
lang: pt-BR
fontsize: 12pt
margin: 2cm
urlcolor: Mahogany
linkcolor: Mahogany
citecolor: Mahogany
spacing: double
papersize: a4paper
biblio-style: apalike
header-includes:
   - \usepackage{indentfirst}
   - \setlength\parindent{24pt}\setlength{\parskip}{6pt plus 2pt minus 1pt}
output: 
    bookdown::pdf_document2:
        toc_depth: 3
        toc: false
    citation_package: natbib
    fig_caption: yes
    number_sections: yes
    keep_tex: no
    template: article-template.latex
link-citations: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Apresentação do Projeto

Este relatório é o resultado de um projeto com o objetivo de analisar a atividade do Conselho de Segurança das Nações Unidas (CSNU), a partir da base de dados "UN Security Council Debates", disponível no _Harvard Dataverse_^[Disponível em: [https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/KGVSYH](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/KGVSYH). Acesso em: 20 de maio de 2021. Uma versão atualizada do banco de dados, ainda não disponível no _Harvard Dataverse_, pode ser ser acessada pelo OSF, disponível em: [https://osf.io/2x38t/](https://osf.io/2x38t/). Acesso em: 20 de maio de 2021.], que contém 77.857 discursos proferidos no CSNU entre 1995 e 2019. Este trabalho está estruturado no formato de projeto do R, com controle de versão a partir de [repositório no Github](https://github.com/antonio-henrique-pires/fgv-amostra-trabalho). 

A estrutura de projetos do R permite uma organização mais eficiente da análise de dados, uma vez que dedica um local específico para armazenar os arquivos e os _scripts_ necessários para produção dos resultados desejados. Este projeto, por exemplo, possui uma pasta "data", onde está a base de dados em formato .RData, uma pasta "_scripts_", com registro dos códigos utilizados na análise de dados, e, por fim, uma pasta "report", onde se encontra um arquivo .RMD capaz de gerar o presente relatório em PDF. Neste PDF, é possível visualizar os códigos que geraram as análises, mas, caso fosse desejável visualizar apenas os textos e os gráficos, bastaria modificar o parâmetro dos _chunks_ para `echo = TRUE`.

Temos como processar e registrar, portanto, em um só local, a preparação dos dados, a análise dos dados e a apresentação dos resultados. O controle de versão em repositório no Github garante a transparência e a replicabilidade, uma vez que permite o acesso de outras pessoas aos arquivos e registros necessários para a realização das análises. 

# A atividade do Conselho de Segurança das Nações Unidas

O CSNU é formado por representantes de 15 países: 5 membros permanentes (China, França, Rússia, Reino Unido e Estados Unidos) e 10 eleitos para mandatos de 2 anos. O órgão é responsável pela manutenção da paz e da segurança internacional e o lugar para construção de consenso entre os países para resolver conflitos internacionais. Neste relatório, vamos analisar a frequência de encontros realizados pelo CSNU ao longo do tempo, quais os assuntos e as crises internacionais que mais foram objeto de deliberação por seus membros e, por fim, com um olhar centrado na América do Sul, identificar quais os membros sulamericanos que mais participaram do CSNU.

```{r pck-data, echo=F, warning=FALSE, message=FALSE}

library(tidyverse)
library(here)
library(lubridate)
library(scales)
library(sf)
library(maps)
library(kableExtra)
library(knitr)

# Carregar banco de dados pré-processado
load(here("data/unsc_full.RData")) 

unsc_full <- unsc_full %>% 
  select(filename, country, spv, date, year, agenda_item2, agenda_item3, text, participanttype) %>% 
  mutate(date = dmy(date), # conversão para formato data
         spv = as.numeric(str_extract(spv, "[0-9]{4}")), # modificação para manter apenas o número dos encontros* (obs1)
         topics = ifelse(agenda_item3 == "Thematic", agenda_item2, agenda_item3)) %>% #** coluna com os tópicos em detalhes (obs2)
  tibble()

```

## Frequência de encontros

O CSNU não possui uma frequência fixa de encontros por mês ou por ano, e encontros podem ser convocados a qualquer tempo. Durante a Guerra Fria, a tensão entre União Soviética e Estados Unidos era um grande obstáculo para a formação de consensos internacionais, de modo que a atividade do CSNU era baixa. Com a dissolução da União Soviética em 1991 e o consequente fim da Guerra Fria, um caminho se abre para a busca por soluções multilaterais para conflitos internacionais.No gráfico abaixo, podemos visualizar a evolução no número de encontros realizados pelo CSNU a partir de 1995, neste novo momento do cenário internacional:

```{r encontros_semestre, echo=F, fig.align='center', warning=FALSE, message=FALSE}

# Número de Encontros

unsc_full %>% 
  select(date, spv) %>% # seleção das variáveis necessárias
  unique() %>% # remoção das duplicatas
  mutate(semesters = as.character(semester(date, with_year = TRUE))) %>% # conversão para semestres
  group_by(semesters) %>% 
  summarise(meetings = n()) %>% # número de encontros por semestre
  ggplot(aes(semesters, meetings, group = 1)) + # plot da evolução do número de encontros
  geom_line() +
  labs(x = "Semestres",
       y = NULL,
       title = "Número de Encontros no CSNU (1995-2019)") +
  geom_smooth(se = F) +
  theme_bw() + 
  theme(axis.text.x = element_text(angle = 65,
                                   hjust = 1,
                                   vjust = 1))


```

Podemos notar que o CSNU se tornou cada vez mais ativo ao longo do tempo. Nota-se uma primeira ascensão do número de encontros entre 1995 e 2003, com uma estabilização entre 2004 e 2010, e uma nova subida a partir de 2011. Levando-se em conta os acontecimentos internacionais entre 1995 e 2019, merece destaque que o primeiro momento de ascensão tem como ponto final o início das incursões militares no Iraque e no Afeganistão, e o segundo momento de ascensão tem como ponto inicial os eventos relacionados à Primavera Árabe. Durante todo o período analisado, o semestre com mais encontros foi o XXX e o com menos encontros foi o XXX.

## Tópicos mais debatidos

O CSNU também não possui uma agenda fixa sobre os temas que irá debater. O Presidente do CSNU, posição ocupada por um dos 15 membros de forma rotativa mensamelmente, define os tópicos a serem debatidos no mês, em diálogo com os demais membros. Isso quer dizer que analisar os tópicos mais debatidos pelo CSNU pode nos dar uma ideia sobre quais crises internacionais mais chamam a atenção de seus membros. Neste primeiro gráfico, podemos visualizar os 10 tópicos mais debatidos em encontros do CSNU, considerando todo o período entre 1995 e 2019:

```{r top_topicos, echo=F, fig.align='center', fig.height = 3.5, warning=FALSE, message=FALSE}

# Tópicos mais debatidos

unsc_full %>% # plotar tópicos mais debatidos
  select(spv, topics) %>%
  unique() %>%
  count(topics) %>%
  arrange(desc(n)) %>% 
  slice(1:10) %>%
  mutate(topics = recode(topics,
                         "Somalia" = "Somália",
                         "Sudan/South Sudan" = "Sudão/Sudão do Sul",
                         "Democratic Republic of the Congo" = "República Democrática do Congo",
                         "Israel/Palestine" = "Israel/Palestina",
                         "Afghanistan" = "Afeganistão",
                         "Syria" = "Síria",
                         "Sudan" = "Sudão",
                         "Terrorism" = "Terrorismo",
                         "Côte d'Ivoire" = "Costa do Marfim")) %>% 
  ggplot(aes(reorder(topics, n), n)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  theme_bw() +
  labs(x = NULL, y = NULL, title = "Tópicos com mais encontros") +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 20))


```

Para visualizar a variação nos temas que mais mobilizam o CSNU, a tabela \@ref(tab:top-topicos-ano) mais abaixo apresenta o tópico mais debatido em cada ano, de 1995 a 2019. Podemos observar que, considerando todo o período, o tópico que mais gerou encontros no CSNU versou sobre o conflito XXX, com XXX encontros. Tamanho número de encontros se justifica se levarmos em conta seu impacto internacional e o fato de que se trata do conflito mais antigo a ser debatido no CSNU, Ao longo dos anos, no entanto, podemos ver que as emergências variam. Vemos a importância dos conflitos no Leste Europeu em 1995 e 1996, as crises envolvendo Iraque em 1997 e 2003, os conflitos no Sudão, especialmente após 2010, com a independência do Sudão do Sul, e a crise na Síria mais recentemente. 

```{r top-topicos-ano, echo=F, fig.align='center', warning=FALSE, message=FALSE}

# Tópico mais debatido em cada ano

top_topicos_ano <- unsc_full %>% 
   filter(agenda_item3 != "Thematic") %>%
   select(agenda_item3, spv, date) %>%
   unique() %>% 
   mutate(year = as.character(year(date))) %>%
   group_by(year, agenda_item3) %>% 
   summarise(n = n()) %>% 
   arrange(year, desc(n)) %>% 
   slice(1:2) %>% 
   mutate(ranking = c(1, 2)) %>% 
   pivot_wider(names_from = ranking, values_from = c(agenda_item3, n)) 

top_topicos_ano %>%
  relocate(n_1, .after = agenda_item3_1) %>% 
  knitr::kable(caption = "Tópicos com mais encontros por ano",
        col.names = c("", "", "", "", ""),
        longtable = F,
        booktabs = T) %>%
  column_spec(4, border_left = T, border_right = F) %>%
  add_header_above(c(" " = 1,
                     "Maior número de encontros" = 2,
                     "Segundo maior número de encontros" = 2))


```

## Membros que mais participaram no CSNU

Como dissemos anteriormente, o CSNU é formado por 5 membros permanentes, que sempre possuem um assento Conselho, e 10 que são eleitos para mandatos de 2 anos. De maneira mais simples, o nível de participação pode ser avaliado a partir do número de anos que um país foi eleito para ocupar um lugar no Conselho. Esta análise, por outro lado, avalia o nível de participação dos membros levando em conta o engajamento nas reuniões a partir do número de discursos proferidos. Os membros do CSNU, mesmo que ocupem assentos, não são obrigados a fazer pronunciamentos durante as reuniões, de modo que há variação no nível de engajamento nos debates. Vamos analisar Além disso, muitos discursos são protocolares, do tipo "passo agora à palavra ao representante X" ou são feitos na condição de Presidente do Conselho ou de membro de algum órgão subsidiário da ONU, em vez ser em nome do país representado pelo orador, ou seja, em capacidade nacional. No gráfico \@ref(fig:top-membros) abaixo, podemos visualizar os membros que mais discursaram no CSNU entre 1995 e 2019, considerando apenas os discursos feitos em capacidade nacional: 

```{r top-membros, echo=F, fig.align='center', warning=FALSE, message=FALSE}

load(here("data/un_capacities_speeches.RData"))
load(here("data/national_capacities_filenames.RData"))

unsc_filt <- unsc_full %>% 
   filter(!(participanttype == "The President" &
              !filename %in% c(un_capacities_speeches,
                               national_capacities_filenames)))

unsc_filt %>% 
  group_by(country) %>%
  summarise(discourses = n()) %>% 
  arrange(desc(discourses)) %>% 
  slice(1:10) %>% 
  mutate(country = recode(country,
                          "United Kingdom Of Great Britain And Northern Ireland" = "Reino Unido",
                          "United States Of America" = "Estados Unidos",
                          "France" = "França",
                          "Russian Federation" = "Rússia",
                          "UN" = "ONU",
                          "Japan" = "Japão",
                          "EU" = "União Europeia",
                          "Germany" = "Alemanha",
                          "South Africa" = "África do Sul")) %>% 
  ggplot(aes(reorder(country, discourses), discourses)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  theme_bw() +
  labs(x = NULL,
       y = "Número de discursos",
       title = "Membros que mais discursaram")

```

Na primeira posição está a XXX, que proferiu XXX discursos. Os pronunciamentos da ONU são feitos por seus agentes oficiais, que apresentam, por exemplo, relatórios sobre missões. Logo abaixo da ONU, podemos observar os cinco membros permanentes.

Para concluir, vamos voltar nosso olhar à América do Sul, para verificar a participação dos países sulamericanos no CSNU. No mapa \@ref(fig:map_south) abaixo, podemos visualizar o número de discursos de todos os países sulamericanos:

```{r map_south, echo=F, fig.align='center', warning=FALSE, message=FALSE}

world <- st_as_sf(map("world", plot = FALSE, fill = TRUE)) %>% 
  filter(ID %in% c("Brazil",
                   "Chile",
                   "Argentina",
                   "Bolivia",
                   "Venezuela",
                   "Ecuador",
                   "Paraguay",
                   "Uruguay",
                   "Peru",
                   "Guyana",
                   "French Guiana",
                   "Colombia",
                   "Suriname"))

n_discourses <- unsc_filt %>% 
  group_by(country) %>%
  summarise(discourses = n()) %>%  
  mutate(country = recode(country,
                          "Bolivia (Plurinational State Of)" = "Bolivia",
                          "Venezuela (Bolivarian Republic Of)" = "Venezuela")) 

world <- world %>% 
  left_join(n_discourses, by = c("ID" = "country")) 


world %>% ggplot() +
  geom_sf(aes(fill=discourses), color= "black", size=.05) +
  coord_sf(xlim = c(-85, -30), ylim = c(-60, 15), expand = FALSE) +
  scale_fill_distiller(palette = "PuBuGn",
                       name = NULL,
                       limits = c(min(world$discourses),max(world$discourses))) +
  theme_void() +
  labs(title = "Número de discursos dos países da América do Sul")

```

Na América do Sul, os países que mais discursaram no CSNU foram XXX e XXX, ambos com XXX discursos. Em terceiro lugar, com XXX discursos, está o XXX. Os países que menos participaram foram XXX e XXX, com respectivamente XXX e XXX discursos. A Guiana Francesa, por ser uma região ultramarina da França, não possui representação própria na ONU e por isso não participa dos encontros do CSNU.
